<!DOCTYPE html> <html lang="en">

<head>
    <meta charset="UTF-8"> <title> Enigma Machine </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/uikit.css">
</head>

<body class="uk-flex uk-flex-center uk-flex-middle uk-flex-column
             uk-height-expand uk-background-dark uk-gap">

    <div class="uk-border uk-rounded uk-flex uk-flex-column uk-gap uk-padding">

        <h1> Server-Based Enigma Machine! </h1>

        <textarea placeholder="place your message here..."
                  class="uk-input uk-height-medium" 
                  name="" id="" d
        ></textarea>

        <button class="uk-button uk-button-primary" onclick="encrypt()">
            Encrypt Message
        </button>

    </div>

    <div class="uk-border uk-rounded uk-flex-middle uk-padding">

        <input type="number" max="9" min="0" value="0" class="uk-input uk-h1 uk-text-center" a>
        <input type="number" max="9" min="0" value="0" class="uk-input uk-h1 uk-text-center" b>
        <input type="number" max="9" min="0" value="0" class="uk-input uk-h1 uk-text-center" c>

    </div>

    <script> function encrypt() {

        let a = document.querySelector("[a]").value;
        let b = document.querySelector("[b]").value;
        let c = document.querySelector("[c]").value;
        let d = document.querySelector("[d]").value;

        if( d.length==0 ){ alert( "add a message" ); return; }

        fetch( `http://localhost:8000?rot=${a}_${b}_${c}&msg=${d}` )

        .then( async ( data )=>{ 
            let raw = await data.json();
            document.querySelector("[d]").value = raw["msg"];
        })

        .catch(( err )=>{
            console.log( err );
        });

    } </script>


</body>

</html>